#!/bin/sh
set -eu

# Blank screen after 30 minutes of inactivity
xset s on
xset s 1800
xset +dpms
xset dpms 0 0 1800

# Load X resources for larger fonts (for children)
[ -f ~/.Xresources ] && xrdb -merge ~/.Xresources

# Hide cursor after a few seconds
unclutter -idle 3 &

# Minimal window manager (no taskbar/panel)
matchbox-window-manager -use_titlebar no -use_lowlight -use_fullscreen &

xbindkeys &

# Run selected app (from run-x.sh)
if [ -n "${KID_APP:-}" ]; then
  # shellcheck disable=SC2086
  exec "$KID_APP" ${KID_ARGS:-}
fi

# Fallback
exec xterm
